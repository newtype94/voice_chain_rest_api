<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>WebSocket test</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="text/javascript">
      const transaction = {
        userId: 123,
        voiceHash: "This is md5_hash by voice record",
        timeStamp: new Date().getTime(),
      };

      let blocks = [
        {
          index: 1,
          hash: "firstBlockHash",
          previousHash: "none",
          createdAt: 1562000010000,
          data: {
            userId: "kyh",
            voiceHash: "firstVoiceHash",
            timeStamp: 1562000000000,
          },
        },
        {
          index: 2,
          hash: "secondBlockHash",
          previousHash: "firstBlockHash",
          createdAt: 1587000010000,
          data: {
            userId: "kyh",
            voiceHash: "secondVoiceHash",
            timeStamp: 1587000000000,
          },
        },
      ];

      const doPost = async () => {
        const options = {
          method: "GET",
          headers: {
            "Content-Type": "text/plain",
            "Access-Control-Allow-Origin": "*",
            "Access-Control-Allow-Headers": "*",
            "Access-Control-Allow-Methods": "*",
          },
          data: JSON.stringify(blocks[1]),
          url:
            "https://mdfv81ljr0.execute-api.ap-northeast-2.amazonaws.com/prod/create",
        };

        const a = await axios(options);
        console.log(a);
      };

      const doGet = async () => {
        const a = await axios.get(
          "https://mdfv81ljr0.execute-api.ap-northeast-2.amazonaws.com/prod/index"
        );
        console.log(a);
      };
    </script>
  </head>
  <body>
    <input type="text" placeholder="Message" id="message" />
    <input type="button" onclick="doGet();" value="Get" />
    <input type="button" onclick="doPost();" value="Post" />
    <input type="button" onclick="doUpdate();" value="Update" />
    <input type="button" onclick="doRemove();" value="Remove" />
  </body>
</html>
